---
title: "Gathering-Data"
tutorial:
  id: "02-gathering-data"
output: 
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
description: "Chapter 2 Gathering Data"
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(primer.tutorials)

knitr::opts_chunk$set(echo = TRUE)
```

<!-- Notes for meeting  -->

<!-- I was able to show the tibble in the tutorial exercises by putitng read_csv("test_1.csv") in an r-chunk, then setting the corresponding setup chunk to echo = FALSE. When I tried to do this again, however, I got the existing directory message. -->

<!-- I know `read_csv()` is used a lot... but I think its good practice? -->




## Name

``` {r name}
question_text(
  "Student Name:",
  answer(NULL, correct = TRUE),
  allow_retry = TRUE,
  try_again_button = "Modify your answer",
  incorrect = "Ok"
)
```

## Email

``` {r email}
question_text(
  "Email:",
  answer(NULL, correct = TRUE),
  allow_retry = TRUE,
  try_again_button = "Modify your answer",
  incorrect = "Ok"
)
```


## Data Import
###


### Exercise 1

Letâ€™s use the `read_csv()` and set "test_1.csv".  

```{r readcsv-setup}
writeLines("a,b,c\n1,2,3", con = "test_1.csv")
```

```{r readcsv, exercise = TRUE}

```

### Exercise 2

Consider the messed up file "test_2.csv". When `read_csv()` is run, a warning appears because the comment "Junk at top" is at the top of our tibble, which should only appear in the code. Use `read_csv()` with `file` set to "test_2.csv" to see the file.

```{r readcsv-2-setup}
writeLines("#junk on top\na,b,c\n1,2,3", con = "test_2.csv")
```

```{r readcsv-2, exercise = TRUE}
read_csv("test_2.csv")
```

### Exercise 3

We can fix the issue above using the `skip` argument. Copy and paste your code from above. Set the argument `skip` to 1. Notice that the comment disappears.

```{r readcsv-3-setup}
writeLines("#junk on top\na,b,c\n1,2,3", con = "test_3.csv")
```

```{r readcsv-3, exercise = TRUE}

```

### Exercise 4

Let's now consider the messed up file "test_4.csv". The file only has numbers and R mistakenly takes the first row as the column names. Use `read_csv()` with `file` set to "test_4.csv" to see the file.

```{r readcsv-4-setup, echo = FALSE}
writeLines("\n4,5,6\n1,2,3", con = "test_4.csv")
```

```{r readcsv-4, exercise = TRUE}

```

### Exercise 5

We can fix the issue above using the `col_names()` argument. Copy and paste your code from above. Set `col_names()` to FALSE. Random names column names will be assigned and the first row will join the other rows. 

```{r readcsv-5-setup, echo = FALSE}
writeLines("\n4,5,6\n1,2,3", con = "test_4.csv")
```

```{r readcsv-5, exercise = TRUE}

```

### Exercise 6

What if we wanted to give custom column names using the `c()` function. Copy and paste your code from above. Now set `col_names` to `c()` with column names "A","B","C".`


```{r readcsv-6-setup}
writeLines("a,b,c\n1,NA,3", con = "test_5.csv")
```

```{r readcsv-6, exercise = TRUE}

```

### Exercise 7

Some people use different characters in place of NA's such as `.`. this can be confusing when looking at a tibble. Use `read_csv()` to look at the file "test_6.csv".

```{r readcsv-7-setup}
writeLines("a,b,c\n1,.,3", con = "test_6.csv")
```

```{r readcsv-7, exercise = TRUE}

```

### Exercise 8

We can change all the period characters to nice NA values using the `na` argument. Copy and paste your code from above. Set `na` to "."

```{r readcsv-8-setup}
writeLines("a,b,c\n1,.,3", con = "test_6.csv")
```

```{r readcsv-8, exercise = TRUE}

```

### Exercise 9

Lastly, let's look at the messed up file "test_7.csv". There is a comment in the middle of the file. Use `read_csv()` to look at the "test_7.csv".

```{r readcsv-9-setup}
writeLines("a,b,c\n1,#junk about file,3", con = "test_7.csv")
```

```{r readcsv-9, exercise = TRUE}

```

### Exercise 10

We can fix this issue by using the `comment` argument. Copy and paste your code from above. Set `comment` to "#". Notice that the comment has disappeared from the tibble.


```{r readcsv-10-setup}
writeLines("a,b,c\n1,#junk about file,3", con = "test_7.csv")
```

```{r readcsv-10, exercise = TRUE}

```



## Submit

```{r context="setup"}
submission_ui
```

```{r context="server"}
submission_server()
```


<!-- Do we need this? -->

<!-- ```{r readcsv-8-setup} -->
<!--  file_name <- "test_6.csv" -->
<!-- writeLines("a,b,c\n1,2,3\n#comment line\n4,5,6", con = file_name) -->
<!-- readLines(file_name) -->
<!-- ``` -->
<!-- ```{r} -->
<!-- cat(file = "test_6.csv") -->
<!-- ``` -->




